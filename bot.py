# -*- coding: utf-8 -*-
import copy
import random

from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.keys import Keys
import time
from webdriver_manager.chrome import ChromeDriverManager




welcome = [
    # '–î–æ–±—Ä—ã–π –¥–µ–Ω—å, –º–µ–Ω—è –∑–æ–≤—É—Ç –ê—Ä—Ç—ë–º',
    # '–î–æ–±—Ä—ã–π –¥–µ–Ω—å, —è –ê—Ä—Ç—ë–º',
    # # '–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –º–µ–Ω—è –∑–æ–≤—É—Ç –ê—Ä—Ç—ë–º',
    # # '–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, —è –ê—Ä—Ç—ë–º',
    # '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –º–µ–Ω—è –∑–æ–≤—É—Ç –ê—Ä—Ç—ë–º',
    # '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —è –ê—Ä—Ç—ë–º'
    '–î–æ–±—Ä—ã–π –¥–µ–Ω—å',
    '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ',
    '–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é'
]

bye = [
    '–ü–æ–¥—Å–∫–∞–∂–∏—Ç–µ, –∞–∫—Ç—É–∞–ª—å–Ω–æ –ª–∏ —ç—Ç–æ –¥–ª—è –≤–∞—Å?',
    '–ü–æ–¥—Å–∫–∞–∂–∏—Ç–µ, –º–æ—ë –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ?',
    '–ü–æ–¥—Å–∫–∞–∂–∏—Ç–µ, –≤–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –¥–∞–Ω–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ?',
]


# # text = welcome[random.randint(0, len(welcome) - 1)] + "!\n\n–ú–µ–Ω—è –∑–æ–≤—É—Ç –ê—Ä—Ç—ë–º –∏ —è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Å—å –Ω–∞ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –¥–ª—è –¥–æ—Å—Ç–∞–≤–æ–∫ –µ–¥—ã —Å –ø–æ–º–æ—â—å—é —Ç–∞—Ä–≥–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ä–µ–∫–ª–∞–º—ã –≤–æ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ\n\n–ò–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∫–µ–π—Å–æ–≤ –º–æ–≥—É –≤—ã–¥–µ–ª–∏—Ç—å:\n1) –ë–æ–ª–µ–µ 500 –∑–∞–∫–∞–∑–æ–≤ –ø–æ 243—Ä –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏ –∏–∑ —Å—Ç–æ–ª–∏—á–Ω–æ–π —Å–µ—Ç–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ —Å –±—é–¥–∂–µ—Ç–æ–º 135.000—Ä (–≤—ã—Ä—É—á–∫–∞ 763.000—Ä)\n2) 147 –∑–∞–∫–∞–∑–æ–≤ –ø–æ 190—Ä –¥–ª—è —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –ø—Ä–µ–º–∏—É–º —Ä–æ–ª–ª–æ–≤ —Å –±—é–¥–∂–µ—Ç–æ–º 28.000—Ä (–≤—ã—Ä—É—á–∫–∞ 220.500—Ä)\n\n–ß—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–≤–æ—é —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ—Å—Ç—å, –ø—Ä–∏–∫—Ä–µ–ø–ª—è—é —Å—Å—ã–ª–∫—É –Ω–∞ –º–æ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ —Å –∫–µ–π—Å–∞–º–∏ –≤ –¥–∞–Ω–Ω–æ–π —Å—Ñ–µ—Ä–µ - https://drive.google.com/file/d/18ETmJTh5ZqKGJw5Ms8QjpcogYULi1GNB/view?usp=sharing\n\n–ï—Å–ª–∏ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç, –∫–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ —É–≤–µ–ª–∏—á–∏—Ç—å —á–∏—Å–ª–æ –∑–∞–∫–∞–∑–æ–≤ –¥–ª—è –≤–∞—à–µ–π –¥–æ—Å—Ç–∞–≤–∫–∏ —Å –ø–æ–º–æ—â—å—é —Ç–∞—Ä–≥–µ—Ç–∞ –≤–æ –í–∫–æ–Ω—Ç–∞–∫—Ç–µ, —Ç–æ —è –º–æ–≥—É —Å–æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –≤–∞—Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é —Å —Ä–∞—Å—á—ë—Ç–æ–º –æ–∫—É–ø–∞–µ–º–æ—Å—Ç–∏ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π)\n\n–•–æ—Ä–æ—à–µ–≥–æ –¥–Ω—è!"""
# textSend = welcome[random.randint(0, len(welcome) - 1)] + """
#
# –ú–µ–Ω—è –∑–æ–≤—É—Ç –ê—Ä—Ç—ë–º –∏ —è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Å—å –Ω–∞ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –¥–ª—è –¥–æ—Å—Ç–∞–≤–æ–∫ –µ–¥—ã —Å –ø–æ–º–æ—â—å—é —Ç–∞—Ä–≥–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ä–µ–∫–ª–∞–º—ã –≤–æ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
#
# –ò–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∫–µ–π—Å–æ–≤ –º–æ–≥—É –≤—ã–¥–µ–ª–∏—Ç—å:
# 1) –ë–æ–ª–µ–µ 500 –∑–∞–∫–∞–∑–æ–≤ –ø–æ 243—Ä –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏ –∏–∑ —Å—Ç–æ–ª–∏—á–Ω–æ–π —Å–µ—Ç–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ —Å –±—é–¥–∂–µ—Ç–æ–º 135.000—Ä (–≤—ã—Ä—É—á–∫–∞ 763.000—Ä)
# 2) 147 –∑–∞–∫–∞–∑–æ–≤ –ø–æ 190—Ä –¥–ª—è —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –ø—Ä–µ–º–∏—É–º —Ä–æ–ª–ª–æ–≤ —Å –±—é–¥–∂–µ—Ç–æ–º 28.000—Ä (–≤—ã—Ä—É—á–∫–∞ 220.500—Ä)
#
# –ß—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–≤–æ—é —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ—Å—Ç—å, –ø—Ä–∏–∫—Ä–µ–ø–ª—è—é —Å—Å—ã–ª–∫—É –Ω–∞ –º–æ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ —Å –∫–µ–π—Å–∞–º–∏ –≤ –¥–∞–Ω–Ω–æ–π —Å—Ñ–µ—Ä–µ - https://drive.google.com/file/d/18ETmJTh5ZqKGJw5Ms8QjpcogYULi1GNB/view?usp=sharing
#
# –ï—Å–ª–∏ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç, –∫–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ —É–≤–µ–ª–∏—á–∏—Ç—å —á–∏—Å–ª–æ –∑–∞–∫–∞–∑–æ–≤ –¥–ª—è –≤–∞—à–µ–π –¥–æ—Å—Ç–∞–≤–∫–∏ —Å –ø–æ–º–æ—â—å—é —Ç–∞—Ä–≥–µ—Ç–∞ –≤–æ –í–∫–æ–Ω—Ç–∞–∫—Ç–µ, —Ç–æ —è –º–æ–≥—É —Å–æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –≤–∞—Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é —Å —Ä–∞—Å—á—ë—Ç–æ–º –æ–∫—É–ø–∞–µ–º–æ—Å—Ç–∏ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π)
#
# –•–æ—Ä–æ—à–µ–≥–æ –¥–Ω—è!
# """


def bot(filename):

    logs = 0
    currentLine = 0
    # with open(f'{filename}.txt', 'r') as file: phones = file.readlines()
    with open(f'delivery/{filename}.txt', 'r', encoding='utf-8') as file: phones = file.readlines()
    phones_new = copy.copy(phones)
    with webdriver.Chrome() as driver:
        driver.get(f"https://web.whatsapp.com/")
        time.sleep(20)
        try:
            for ph in phones:
                currentLine = currentLine+1
                textSend = welcome[random.randint(0,len(welcome) - 1)] + "! –ú–µ–Ω—è –∑–æ–≤—É—Ç –ê—Ä—Ç—ë–º –∏ —è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Å—å –Ω–∞ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –¥–ª—è –¥–æ—Å—Ç–∞–≤–æ–∫ –µ–¥—ã —Å –ø–æ–º–æ—â—å—é —Ç–∞—Ä–≥–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ä–µ–∫–ª–∞–º—ã –≤–æ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ. –ò–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∫–µ–π—Å–æ–≤ –º–æ–≥—É –≤—ã–¥–µ–ª–∏—Ç—å: –±–æ–ª–µ–µ 500 –∑–∞–∫–∞–∑–æ–≤ –ø–æ 243—Ä –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏ –∏–∑ —Å—Ç–æ–ª–∏—á–Ω–æ–π —Å–µ—Ç–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ —Å –±—é–¥–∂–µ—Ç–æ–º 135.000—Ä (–≤—ã—Ä—É—á–∫–∞ 763.000—Ä), 147 –∑–∞–∫–∞–∑–æ–≤ –ø–æ 190—Ä –¥–ª—è —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –ø—Ä–µ–º–∏—É–º —Ä–æ–ª–ª–æ–≤ —Å –±—é–¥–∂–µ—Ç–æ–º 28.000—Ä (–≤—ã—Ä—É—á–∫–∞ 220.500—Ä). –ß—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–≤–æ—é —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ—Å—Ç—å, –ø—Ä–∏–∫—Ä–µ–ø–ª—è—é —Å—Å—ã–ª–∫—É –Ω–∞ –º–æ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ —Å –∫–µ–π—Å–∞–º–∏ –≤ –¥–∞–Ω–Ω–æ–π —Å—Ñ–µ—Ä–µ - https://drive.google.com/file/d/18ETmJTh5ZqKGJw5Ms8QjpcogYULi1GNB/view?usp=sharing. –ï—Å–ª–∏ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç, –∫–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ —É–≤–µ–ª–∏—á–∏—Ç—å —á–∏—Å–ª–æ –∑–∞–∫–∞–∑–æ–≤ –¥–ª—è –≤–∞—à–µ–π –¥–æ—Å—Ç–∞–≤–∫–∏ —Å –ø–æ–º–æ—â—å—é —Ç–∞—Ä–≥–µ—Ç–∞ –≤–æ –í–∫–æ–Ω—Ç–∞–∫—Ç–µ, —Ç–æ —è –º–æ–≥—É —Å–æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –≤–∞—Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é —Å —Ä–∞—Å—á—ë—Ç–æ–º –æ–∫—É–ø–∞–µ–º–æ—Å—Ç–∏ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π) –•–æ—Ä–æ—à–µ–≥–æ –¥–Ω—è!"
                try:
                    phones_new.remove(ph)
                    driver.get(f"https://web.whatsapp.com/send?phone=" + str(ph.replace('\n', '')))
                    time.sleep(7)
                    driver.find_element(By.XPATH, "/html/body/div[1]/div[1]/div[1]/div[4]/div[1]/footer/div[1]/div/span[2]/div/div[2]/div[1]/div/div[2]").click()
                    driver.find_element(By.XPATH, "/html/body/div[1]/div[1]/div[1]/div[4]/div[1]/footer/div[1]/div/span[2]/div/div[2]/div[1]/div/div[2]").send_keys(textSend)
                    # driver.find_element(By.XPATH, "/html/body/div[1]/div[1]/div[1]/div[4]/div[1]/footer/div[1]/div/span[2]/div/div[2]/div[1]/div/div[2]").send_keys((welcome[random.randint(0, len(welcome) - 1)]+
                    #
                    #     "–ú–µ–Ω—è –∑–æ–≤—É—Ç –ê—Ä—Ç—ë–º –∏ —è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Å—å –Ω–∞ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –¥–ª—è –¥–æ—Å—Ç–∞–≤–æ–∫ –µ–¥—ã —Å –ø–æ–º–æ—â—å—é —Ç–∞—Ä–≥–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ä–µ–∫–ª–∞–º—ã –≤–æ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ"
                    #
                    #     "–ò–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∫–µ–π—Å–æ–≤ –º–æ–≥—É –≤—ã–¥–µ–ª–∏—Ç—å:"
                    #     "üìå–ë–æ–ª–µ–µ 500 –∑–∞–∫–∞–∑–æ–≤ –ø–æ 243—Ä –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏ –∏–∑ —Å—Ç–æ–ª–∏—á–Ω–æ–π —Å–µ—Ç–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ —Å –±—é–¥–∂–µ—Ç–æ–º 135.000—Ä (–≤—ã—Ä—É—á–∫–∞ 763.000—Ä)"
                    #     "üìå147 –∑–∞–∫–∞–∑–æ–≤ –ø–æ 190—Ä –¥–ª—è —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –ø—Ä–µ–º–∏—É–º —Ä–æ–ª–ª–æ–≤ —Å –±—é–¥–∂–µ—Ç–æ–º 28.000—Ä (–≤—ã—Ä—É—á–∫–∞ 220.500—Ä)"
                    #
                    #     "–ß—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–≤–æ—é —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ—Å—Ç—å, –ø—Ä–∏–∫—Ä–µ–ø–ª—è—é —Å—Å—ã–ª–∫—É –Ω–∞ –º–æ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ —Å –∫–µ–π—Å–∞–º–∏ –≤ –¥–∞–Ω–Ω–æ–π —Å—Ñ–µ—Ä–µ - https://drive.google.com/file/d/18ETmJTh5ZqKGJw5Ms8QjpcogYULi1GNB/view?usp=sharing"
                    #
                    #     "–ï—Å–ª–∏ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç, –∫–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ —É–≤–µ–ª–∏—á–∏—Ç—å —á–∏—Å–ª–æ –∑–∞–∫–∞–∑–æ–≤ –¥–ª—è –≤–∞—à–µ–π –¥–æ—Å—Ç–∞–≤–∫–∏ —Å –ø–æ–º–æ—â—å—é —Ç–∞—Ä–≥–µ—Ç–∞ –≤–æ –í–∫–æ–Ω—Ç–∞–∫—Ç–µ, —Ç–æ —è –º–æ–≥—É —Å–æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –≤–∞—Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é —Å —Ä–∞—Å—á—ë—Ç–æ–º –æ–∫—É–ø–∞–µ–º–æ—Å—Ç–∏ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π)"
                    #
                    #     "–•–æ—Ä–æ—à–µ–≥–æ –¥–Ω—è!"))
                    driver.find_element(By.XPATH, "/html/body/div[1]/div[1]/div[1]/div[4]/div[1]/footer/div[1]/div/span[2]/div/div[2]/div[1]/div/div[2]").send_keys(Keys.RETURN)
                    time.sleep(3)
                    print(f'[INFO] Successful phone {ph}')
                    logs=logs+1
                    print(f"count: {logs}")
                    print(f"all: {currentLine}")
                    # logs.append(f'[INFO] Successful phone {ph} \n')
                except Exception as _ex:
                    # print(_ex)
                    print(f'[ALERT] Does not exist phone {ph}')
                    # logs.append(f'[ALERT] Does not exist phone {ph} \n')
                    continue
        except Exception as _ex:
            print(_ex)
            with open(f"logs/{filename}.txt", 'w', encoding='utf-8') as f:
                f.writelines(f"–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ:{logs}"
                             f"–í—Å–µ–≥–æ: {currentLine}")
    print(phones)
    print(phones_new)
    with open(f"logs/{filename}.txt", 'w', encoding='utf-8') as f:
        f.writelines(f"–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ:{logs}"
                     f"–í—Å–µ–≥–æ: {currentLine}")
        # f.writelines(logs)


bot("251 - 500")